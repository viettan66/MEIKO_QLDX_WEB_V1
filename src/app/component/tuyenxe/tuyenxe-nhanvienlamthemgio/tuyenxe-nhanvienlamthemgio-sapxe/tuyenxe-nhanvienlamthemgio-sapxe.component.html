<div class="row no-gutters m-1">
    <div class="col">
        <app-tab classs="bg-light px-5" [listtab]="listtab" [tab]="tab" (tab)="gettab($event)"></app-tab>
        <ng-container *ngFor="let item of listTUYENtaxi;let i=index">
            <div class="card m-1 p-0">
                <div class="card-body p-0">
                    <div class="row no-gutters {{item.show?'bg-success text-white':'bg-no'}}">
                        <div class="col-auto ">
                            <button (click)="show(item)"  class="btn btn-sm btn-secondary mr-1 h-100 px-1" type="button" style="height: 100% !important;"><i class="fas fa-eye"></i></button>
                            <button  (click)="sapxetaxi(item)" class="btn btn-sm btn-secondary mr-1 h-100 px-1" type="button"><i class="fas fa-taxi"></i></button>
                        </div>
                        <ng-container *ngFor="let item2 of item.listtab">
                            <div class="col p-2 ">
                                        <div class="row no-gutters d-flex justify-content-center align-items-center">
                                            <span style="font-size: 32px;">{{item2.count.length}}</span>&nbsp;&nbsp;<span style="font-size: 12px;">{{item2.label}}</span>
                                            
                                        </div>
                                        <div class="row no-gutters" >
                                            <div  *ngIf="item.show"  class="col px-1" style="max-height: 400px;overflow: auto;">
                                                <table class="table table-sm ggg" style="font-size: 12px;">
                                                    <ng-container *ngFor="let element of item2.count">
                                                       <tr>
                                                            <td>{{element.T002C}}</td>
                                                            <td>{{element.T001C}}</td>
                                                        </tr> 
                                                    </ng-container>
                                                </table>
                                            </div>
                                        
                                        </div>
                            </div>
                        </ng-container>

                    </div>

                </div>
            </div>
        </ng-container>
    </div>
</div>
<div class="{drag-drop-box}" cdkDrag>
</div>
  <div  class="modal fade " id="chitietdiemtaxi" role="dialog"  data-backdrop="static" data-keyboard="false"  >
      <div class="modal-dialog   modal-1360" >
          <div *ngIf="thistuyentaxi!=null" class="modal-content " >
              <div class="modal-header bg-light p-1">
                  <h5 class="modal-title">Sắp xe tuyến taxi {{thistuyentaxi.tenTuyenXe}}</h5>
                  <button class="btn btn-sm" data-dismiss="modal"><i class="fad fa-times"></i></button>
              </div>
              <div class="modal-body ">
                <div class="row no-gutters">
                   <select class="btn btn-sm btn-secondary mr-1" [(ngModel)]="slot">
                       <option value="2">Xe 2 chỗ</option>
                       <option value="4">Xe 4 chỗ</option>
                       <option value="7">Xe 7 chỗ</option>
                       <option value="16">Xe 16 chỗ</option>
                       <option value="24">Xe 24 chỗ</option>
                       <option value="45">Xe 45 chỗ</option>
                   </select> 
                   <button (click)="sapxengay()" title="Sắp xe ngay" class="btn btn-sm btn-secondary mr-1"><i class="fad fa-check"></i></button>
                   <button title="Gửi mail cho người đi xe" class="btn btn-sm btn-secondary mr-1"><i class="fad fa-envelope"></i></button>
                   <button title="Gửi thông báo cho người đi xe trên hệ thống" class="btn btn-sm btn-secondary mr-1"><i class="fad fa-bells" (click)="toast()"></i></button>
                   <app-button-download bg="btn btn-sm btn-secondary text-white mr-1" tableID="gghjkhgghc" tableName="Danh sách đi taxi tuyến{{thistuyentaxi.tenTuyenXe}}" hide="true"></app-button-download>
                   
               </div>
               <div class="row no-gutters mt-2">
                  <table class="table table-sm table-hover table-bordered" style="font-size: 12px;" id="gghjkhgghc" >
                      <thead style="text-align: center;">
                          <tr class="table-info">
                              <!-- <th style="width: 20px;"><app-item-checkall [listdata]="thistuyentaxi.listdata"></app-item-checkall></th> -->
                              <th style="width: 20px;">#</th>
                              <th>Tên</th>
                              <th>ID</th>
                              <th>Cấp bậc</th>
                              <th>Bộ phận</th>
                              <th>Điểm</th>
                              <th style="width: 90px;">Thông báo</th>
                              <th >Xe</th>
                          </tr>
                      </thead>
                      <tbody>
                          <ng-container *ngFor="let item2 of thistuyentaxi.listdata;let i=index">
                                <tr style="cursor: pointer;" (click)="$event.stopPropagation();item2.check=!item2.check">
                                    <!-- <td ><input type="checkbox" [(ngModel)]="item2.check"></td> -->
                                    <td>{{i+1}}</td>
                                    <td>{{item2.T001C}}</td>
                                    <td>{{item2.T002C}}</td>
                                    <td>{{item2.T005C}}</td>
                                    <td>{{item2.T006C}}</td>
                                    <td>{{item2.tenDiemDon}}</td>
                                    <td style="text-align: center;"><i class="fad fa-check"></i></td>
                                    <td style="text-align: center;vertical-align: middle;" *ngIf="((i+(slot-0))%(slot-0))==0" [attr.rowspan]="((i%(slot-0))+1)*(slot-0)">{{((i/(slot-0))+1)}}</td>
                                </tr>
                            </ng-container>
                      </tbody>
                  </table>
              </div>
               
              </div>
              <div class="modal-footer">
              </div>
          </div>
      </div>
  </div>

